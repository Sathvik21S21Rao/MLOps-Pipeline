---
- name: Ensure output directory for rendered k8s exists
  file:
    path: ./generated/k8s
    state: directory

- name: Render trainer deployment manifest
  template:
    src: trainer-deployment.yaml.j2
    dest: ./generated/k8s/trainer-{{ trainer_name | default('trainer') }}.yaml
    mode: '0644'
